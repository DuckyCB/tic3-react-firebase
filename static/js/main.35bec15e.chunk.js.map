{"version":3,"sources":["components/Navbar.js","context/firebase.js","index.js","constants/routes.js","lib/firebase.js","utils/userUtils.js","app.js"],"names":["drawerWidth","AppBar","styled","MuiAppBar","shouldForwardProp","prop","theme","open","transition","transitions","create","easing","sharp","duration","leavingScreen","width","easeOut","enteringScreen","marginRight","DrawerHeader","display","alignItems","padding","spacing","mixins","toolbar","justifyContent","Navbar","user","onLogout","history","useHistory","useTheme","useState","setOpen","sidebar","setSidebar","menuOpener","setMenuOpener","handleDrawerOpen","handleDrawerClose","useEffect","button","onClick","push","username","primary","a","color","edge","sx","bgcolor","red","height","src","avatar","ROUTES","enableColorOnDark","backgroundImage","position","to","style","margin","alt","flexGrow","component","Consumer","colorMode","toggleColorMode","palette","mode","flexShrink","variant","anchor","direction","FirebaseContext","createContext","ReactDOM","render","StrictMode","Provider","value","app","db","document","getElementById","DASHBOARD","LOGIN","SIGNUP","PROFILE","SUBKINCHOO","FULLPOST","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getFirestore","auth","getAuth","fetchUserData","docRef","doc","uid","getDoc","result","id","data","loginUser","email","password","signInWithEmailAndPassword","userCredential","logout","signOut","Dashboard","lazy","LogIn","SignUp","FullPost","SubKinchoo","UserProfile","NotFound","ColorModeContext","React","App","userData","setUserData","useAuthState","loading","fetchData","logoutUser","window","location","reload","fallback","exact","path","ToggleColorMode","setMode","prevMode","createTheme","orangebg","main","white","upvote","downvote","disabled","tonalOffset","typography","getDesignTokens"],"mappings":"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","file":"static/js/main.35bec15e.chunk.js","sourcesContent":["import * as React from 'react';\r\nimport {useEffect, useState} from 'react';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport { styled, useTheme } from '@mui/material/styles';\r\nimport Box from '@mui/material/Box';\r\nimport Drawer from '@mui/material/Drawer';\r\nimport MuiAppBar from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport List from '@mui/material/List';\r\nimport Typography from '@mui/material/Typography';\r\nimport Divider from '@mui/material/Divider';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemIcon from '@mui/material/ListItemIcon';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport SaveAltIcon from '@mui/icons-material/SaveAlt';\r\nimport LoginIcon from '@mui/icons-material/Login';\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport {CardMedia} from \"@mui/material\";\r\nimport Brightness7Icon from \"@mui/icons-material/Brightness7\";\r\nimport Brightness4Icon from \"@mui/icons-material/Brightness4\";\r\nimport {ColorModeContext} from \"../app\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport {red} from \"@mui/material/colors\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport { logout } from '../utils/userUtils';\r\n\r\nconst drawerWidth = 240;\r\n\r\n\r\nconst AppBar = styled(MuiAppBar, {\r\n\tshouldForwardProp: (prop) => prop !== 'open',\r\n})(({ theme, open }) => ({\r\n\ttransition: theme.transitions.create(['margin', 'width'], {\r\n\t\teasing: theme.transitions.easing.sharp,\r\n\t\tduration: theme.transitions.duration.leavingScreen,\r\n\t}),\r\n\t...(open && {\r\n\t\twidth: `calc(100% - ${drawerWidth}px)`,\r\n\t\ttransition: theme.transitions.create(['margin', 'width'], {\r\n\t\t\teasing: theme.transitions.easing.easeOut,\r\n\t\t\tduration: theme.transitions.duration.enteringScreen,\r\n\t\t}),\r\n\t\tmarginRight: drawerWidth,\r\n\t}),\r\n}));\r\n\r\nconst DrawerHeader = styled('div')(({ theme }) => ({\r\n\tdisplay: 'flex',\r\n\talignItems: 'center',\r\n\tpadding: theme.spacing(0, 1),\r\n\t// necessary for content to be below app bar\r\n\t...theme.mixins.toolbar,\r\n\tjustifyContent: 'flex-start',\r\n}));\r\n\r\nexport default function Navbar({user, onLogout}) {\r\n\tconst history = useHistory();\r\n\tconst theme = useTheme();\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst [sidebar, setSidebar] = useState(null);\r\n\tconst [menuOpener, setMenuOpener] = useState(null);\r\n\r\n\tconst handleDrawerOpen = () => {\r\n\t\tsetOpen(true);\r\n\t};\r\n\r\n\r\n\tconst handleDrawerClose = () => {\r\n\t\tsetOpen(false);\r\n\t};\r\n\r\n\t\r\n\tuseEffect(() => {\r\n\t\tif (!user) {\r\n\t\t\tsetSidebar(\r\n\t\t\t\t<List>\r\n\t\t\t\t\t<ListItem button key={'Login'} onClick={() => {\r\n\t\t\t\t\t\thistory.push(ROUTES.LOGIN);\r\n\t\t\t\t\t\thandleDrawerClose();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<LoginIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={'Login'} />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem button key={'SignUp'} onClick={() => {\r\n\t\t\t\t\t\thistory.push(ROUTES.SIGNUP);\r\n\t\t\t\t\t\thandleDrawerClose();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<SaveAltIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={\"SignUp\"} />\r\n\t\t\t\t\t</ListItem>\r\n\t\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t</List>);\r\n\t\t\tsetMenuOpener(<>\r\n\t\t\t<IconButton\r\n\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\taria-label=\"open drawer\"\r\n\t\t\t\tedge=\"end\"\r\n\t\t\t\tonClick={handleDrawerOpen}\r\n\t\t\t\tsx={{ ...(open && { display: 'none' }) }}\r\n\t\t\t>\r\n\t\t\t\t<MenuIcon />\r\n\t\t\t</IconButton></>);\r\n\t\t} else {\r\n\t\t\tsetSidebar(\r\n\t\t\t<List>\r\n\t\t\t\t<ListItem button key={'Profile'} onClick={() => {\r\n\t\t\t\t\thistory.push(`/u/${user.username}`);\r\n\t\t\t\t\thandleDrawerClose();\r\n\t\t\t\t}}>\r\n\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t<PersonIcon />\r\n\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t<ListItemText primary={'Profile'} />\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<ListItem button key={'Logout'} onClick={async () => {\r\n\t\t\t\t\thandleDrawerClose();\r\n\t\t\t\t\tawait onLogout();\r\n\t\t\t\t}}>\r\n\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t<LogoutIcon />\r\n\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t<ListItemText primary={\"Logout\"} />\r\n\t\t\t\t</ListItem>\r\n\t\r\n\t\t\t\t<Divider/>\r\n\t\t\t</List>);\r\n\t\t\tsetMenuOpener(<><IconButton\r\n\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\taria-label=\"open drawer\"\r\n\t\t\t\tedge=\"end\"\r\n\t\t\t\tonClick={handleDrawerOpen}\r\n\t\t\t>\r\n\t\t\t\t<Avatar sx={{bgcolor: red[500], height: 60, width: 60}}\r\n\t\t\t\t\t\tsrc={user.avatar}\r\n\t\t\t\t\t\taria-label=\"recipe\"/>\r\n\t\t\t</IconButton></>);\r\n\t\t}\r\n\t}, [user, open]);\r\n\r\n\treturn (\r\n\t\t<Box height={87} sx={{ display: 'flex' }}>\r\n\t\t\t<CssBaseline />\r\n\t\t\t<AppBar enableColorOnDark color=\"orangebg\" sx={{ backgroundImage: 'linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 0))'}} position=\"fixed\" open={open}>\r\n\t\t\t\t<Toolbar>\r\n\t\t\t\t\t<Link to={ROUTES.DASHBOARD}>\r\n\t\t\t\t\t\t<img src=\"https://i.ibb.co/1rKYbLs/kinchoo.png\" style={{margin:10}} height={60} alt=\"Kinchoo\"/>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Typography sx={{ flexGrow: 1 }} component=\"div\">\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<ColorModeContext.Consumer>\r\n\t\t\t\t\t\t{colorMode => (\r\n\t\t\t\t\t\t\t<IconButton onClick={colorMode.toggleColorMode} color=\"inherit\">\r\n\t\t\t\t\t\t\t\t{theme.palette.mode === 'dark' ? <Brightness7Icon /> : <Brightness4Icon />}\r\n\t\t\t\t\t\t\t</IconButton>\r\n                        )}\r\n\t\t\t\t\t</ColorModeContext.Consumer>\r\n\t\t\t\t\t{menuOpener}\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t\t<Drawer\r\n\t\t\t\tsx={{\r\n\t\t\t\t\twidth: drawerWidth,\r\n\t\t\t\t\tflexShrink: 0,\r\n\t\t\t\t\t'& .MuiDrawer-paper': {\r\n\t\t\t\t\t\twidth: drawerWidth,\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t\tvariant=\"persistent\"\r\n\t\t\t\tanchor=\"right\"\r\n\t\t\t\topen={open}\r\n\t\t\t>\r\n\t\t\t\t<DrawerHeader>\r\n\t\t\t\t\t<IconButton onClick={handleDrawerClose}>\r\n\t\t\t\t\t\t{theme.direction === 'rtl' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</DrawerHeader>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t{sidebar}\r\n\t\t\t</Drawer>\r\n\t\t</Box>\r\n\t);\r\n}\r\n","import {createContext} from \"react\";\r\n\r\nconst FirebaseContext = createContext(null);\r\n\r\nexport default FirebaseContext;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './app';\r\nimport FirebaseContext from \"./context/firebase\";\r\nimport { app, db } from \"./lib/firebase\";\r\nimport './styles/styles.css';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<FirebaseContext.Provider value={{ app, db}}>\r\n\t\t\t<App/>\r\n\t\t</FirebaseContext.Provider>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n","export const DASHBOARD = '/'\r\nexport const LOGIN = '/login'\r\nexport const SIGNUP = '/signup'\r\nexport const PROFILE = '/u/:username'\r\nexport const SUBKINCHOO = '/r/:subname'\r\nexport const FULLPOST = '/p/:postid'\r\nexport const NOT_FOUND = '/not-found'","import { getAuth } from \"@firebase/auth\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\nconst config = {\r\n\tapiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n\tauthDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n\tprojectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n\tstorageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n\tmessagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n\tappId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n\tmeasurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(config);\r\nconst db = getFirestore(app);\r\n// const db = getDatabase(app);\r\nconst auth = getAuth();\r\n\r\nexport {app, db, auth};\r\n","import {signInWithEmailAndPassword} from \"@firebase/auth\";\r\nimport {doc, getDoc} from \"firebase/firestore\";\r\nimport {auth, db} from \"../lib/firebase\";\r\n\r\n// returns user data if user is signed in and returns null otherwise\r\nexport const fetchUserData = async (user) => {\r\n    if (!user) {\r\n        return null;\r\n    }\r\n\r\n    const docRef = doc(db, 'users', user.uid);\r\n    const result = await getDoc(docRef);\r\n    return {id: user.uid, ...result.data()};\r\n\r\n};\r\n\r\nexport const loginUser = async (email, password) => {\r\n\r\n    try {\r\n        const userCredential = await signInWithEmailAndPassword(auth, email, password);\r\n        return userCredential.user;\r\n    } catch (err) {\r\n        throw err;\r\n    }\r\n};\r\n\r\nexport const logout = async () => {\r\n    await auth.signOut();\r\n}\r\n","import {lazy, Suspense, useEffect, useState} from \"react\";\r\nimport * as React from 'react';\r\nimport {BrowserRouter as Router, Route, Switch} from \"react-router-dom\";\r\nimport * as ROUTES from './constants/routes'\r\nimport {createTheme, ThemeProvider} from \"@mui/material\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport {fetchUserData, logout} from \"./utils/userUtils\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport {auth} from \"./lib/firebase\";\r\n\r\n\r\nconst Dashboard = lazy(() => import('./pages/Dashboard'))\r\nconst LogIn = lazy(() => import('./pages/LogIn'))\r\nconst SignUp = lazy(() => import('./pages/SignUp'))\r\nconst FullPost = lazy( () => import('./pages/FullPost'))\r\nconst SubKinchoo = lazy(() => import('./pages/SubKinchoo'))\r\nconst UserProfile = lazy(() => import('./pages/UserProfile'))\r\nconst NotFound = lazy(() => import('./pages/NotFound'))\r\n\r\nexport const ColorModeContext = React.createContext({ toggleColorMode: () => {} });\r\n\r\nconst getDesignTokens = (mode) => ({\r\n    palette: {\r\n        mode,\r\n        ...(mode === 'light' ? {\r\n                orangebg: { main: '#ff9f00',}, white: {main: '#ffffff'}, upvote : {main: '#FF8b60'}, downvote : {main: '#9494FF'}, disabled : {main: \"#bdbdbd\"},   tonalOffset: 0,\r\n            } : {\r\n                orangebg: {main: '#ff9f00',}, white: {main: '#ffffff'}, upvote : {main: '#FF8b60'},  downvote : {main: '#9494FF'}, disabled : {main: \"#626262\"}, tonalOffset: 0,\r\n            }),\r\n    },\r\n    typography: {\r\n        \"fontFamily\": `verdana, arial, helvetica, sans-serif`,\r\n    }\r\n});\r\nfunction App () {\r\n    const [userData, setUserData] = useState(null);\r\n    const [user, loading, error] = useAuthState(auth);\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            if (loading || !user) return;\r\n            setUserData(await fetchUserData(user));\r\n        }\r\n\r\n        fetchData();\r\n    }, [user, loading]);\r\n\r\n    const logoutUser = async () => {\r\n        await logout();\r\n        setUserData(null);\r\n        window.location.reload(false);\r\n    }\r\n    return (\r\n        <>\r\n\r\n            <Router>\r\n                <Navbar user={userData} onLogout={logoutUser}/>\r\n                <Suspense fallback={<p> Loading ... </p>}>\r\n                    <Switch>\r\n                        <Route exact path={ROUTES.DASHBOARD} component={Dashboard}/>\r\n                        <Route path={ROUTES.LOGIN} component={LogIn}/>\r\n                        <Route path={ROUTES.SIGNUP} component={SignUp}/>\r\n                        <Route path={ROUTES.FULLPOST} component={FullPost}/>\r\n                        <Route path={ROUTES.PROFILE} component={UserProfile}/>\r\n                        <Route path={ROUTES.SUBKINCHOO} component={SubKinchoo}/>\r\n                        <Route component={NotFound}/>\r\n                    </Switch>\r\n                </Suspense>\r\n            </Router>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default function ToggleColorMode() {\r\n    const [mode, setMode] = React.useState('dark');\r\n    const colorMode = React.useMemo(\r\n        () => ({\r\n            toggleColorMode: () => {\r\n                setMode((prevMode) => (prevMode === 'light' ? 'dark' : 'light'));\r\n            },\r\n        }),\r\n        [],\r\n    );\r\n\r\n    const theme = React.useMemo(() => createTheme(getDesignTokens(mode)), [mode]);\r\n\r\n    return (\r\n        <ColorModeContext.Provider value={colorMode}>\r\n            <ThemeProvider theme={theme}>\r\n                <App />\r\n            </ThemeProvider>\r\n        </ColorModeContext.Provider>\r\n    );\r\n}\r\n\r\n\r\n"],"sourceRoot":""}